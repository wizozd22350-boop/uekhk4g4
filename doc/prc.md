產品需求文件：塔羅日記抽牌機 (Tarot Diary App)

版本: 1.0
日期: 2025 年 12 月 11 日
產品經理: AI 助理

1. 簡介與目標 (Introduction & Goals)

1.1 產品願景

建立一個極簡、優雅且具備神秘氛圍的數位工具，幫助使用者每日進行塔羅抽牌，並自動儲存結果，作為自我反思與指引的紀錄。

1.2 產品目標

提供一個直觀、流暢的單卡抽牌體驗。

確保抽牌結果（正逆位及解釋）能夠準確、可靠地儲存。

營造視覺上的神秘感和高品質感，提升用戶的每日使用意願。

2. 目標用戶 (Target Audience)

用戶群組

特點描述

核心需求

初級塔羅愛好者

對塔羅感興趣，但可能不熟悉整副牌的細節，尋求簡單的每日指引。

快速、無壓力的抽牌和易懂的牌義解釋。

每日冥想者/日記寫作者

尋求一個簡單的方式來啟動自我反思或記錄當日的心情/指引。

自動化儲存功能，方便日後查閱。

追求美學的應用程式使用者

重視應用程式的視覺設計和使用者體驗 (UX)。

神秘、美觀、流暢的介面和動畫。

3. 核心功能 (Core Features)

3.1 抽牌與展示機制

ID

功能名稱

描述與需求

驗收標準 (Acceptance Criteria)

F1.1

單卡抽取

使用者點擊按鈕，系統從牌組中隨機選擇一張牌。

點擊 "開始抽牌" 按鈕後，需禁用按鈕並顯示載入中狀態。

F1.2

牌組內容

牌組僅限於塔羅牌的 22 張大阿爾克那 (Major Arcana)。

抽牌結果必須在 0 到 21 號牌之間。

F1.3

正逆位判斷

抽牌結果以 50% 的機率決定為正位或逆位。

抽牌結果需包含 isReversed 屬性（布林值）。

F1.4

卡牌翻轉動畫

抽牌後，卡牌需從背面（星空設計）以 3D 效果翻轉至正面。

翻轉動畫應平滑（0.6 秒），並在動畫完成後顯示結果文字。

F1.5

結果展示

顯示卡牌編號、名稱、正逆位標記，以及對應的牌義解釋。

逆位牌（如：【逆位】）應使用醒目的顏色（如紅色）標記。

3.2 資料儲存與歷史紀錄

ID

功能名稱

描述與需求

驗收標準 (Acceptance Criteria)

F2.1

自動日記儲存

每次成功抽牌後，結果（牌名、正逆位、解釋、時間）必須自動儲存到資料庫。

儲存操作必須使用 Firebase Firestore 的 addDoc 函數，並記錄 serverTimestamp()。

F2.2

認證處理

使用者透過 Firebase 匿名認證或自定義 Token 認證，確保資料私密性。

資料必須儲存在 /artifacts/{appId}/users/{userId}/tarot_diary 路徑下。

F2.3

實時歷史清單

頁面底部需實時顯示該用戶過去所有的抽牌記錄。

歷史清單必須使用 onSnapshot 監聽，並按時間戳記降序排列。

F2.4

歷史記錄格式

歷史清單中的每一項紀錄需包含：日期、牌名、正逆位標記、牌義解釋。

歷史記錄清單若為空，應顯示提示訊息：「尚無抽牌記錄。」

3.3 使用者介面與視覺 (UI/UX)

ID

功能名稱

描述與需求

驗收標準 (Acceptance Criteria)

F3.1

視覺主題

整體使用深紫色 (Mystic Indigo) 和金色 (Gold Accent) 主題，營造神秘高貴的氛圍。

背景色為 #1F1A3A，卡牌邊框和 Spinner 為 var(--tarot-gold)。

F3.2

卡牌背面設計

必須包含「手繪星星」的設計元素。

卡牌背面使用徑向漸變和 CSS background-image 來模擬星空光點。

F3.3

響應式設計

介面必須在手機、平板和桌面裝置上保持美觀且可用。

抽牌區應在不同螢幕尺寸下自動調整大小並保持置中。

4. 技術規格 (Technical Specification)

項目

規格要求

備註

前端框架

原生 HTML5 / JavaScript

使用單一 tarot_diary.html 檔案。

樣式

Tailwind CSS (CDN)

用於快速響應式佈局和樣式設計。

資料庫

Google Firebase Firestore

用於持久化儲存抽牌紀錄。

認證

Firebase Auth (匿名登入/Custom Token)

確保每個使用者的資料隔離。

錯誤處理

指數退避重試 (withRetry 函數)

所有 Firebase 呼叫必須使用指數退避機制來處理潛在的網路或暫時性錯誤。

卡牌資料

內建 JavaScript 陣列 (MAJOR_ARCANA)

牌義解釋和卡牌名稱硬編碼於前端。

5. 成功指標 (Success Metrics)

指標

定義

目標閾值

日活躍用戶 (DAU)

每日至少點擊「開始抽牌」按鈕一次的獨立用戶數。

達到 50% 的使用者每週至少使用 3 次。

抽牌完成率

點擊「開始抽牌」到結果儲存成功的比例。

需保持在 99.5% 以上。

載入時間 (TTI)

從頁面載入到「開始抽牌」按鈕可用的時間。

應低於 2 秒。

6. 未來規劃 (Future Scope / V1.1)

完整牌組擴充： 納入 56 張小阿爾克那 (Minor Arcana)，使牌組總數達到 78 張。

日記註記功能： 允許使用者在抽牌結果儲存後，為該紀錄添加個人的反思或註解。

多牌陣功能： 增加三張牌（過去、現在、未來）或凱爾特十字牌陣的選項。

視覺優化： 在卡牌正面顯示根據牌意所選擇的象徵性圖案（例如使用 Lucide 或 Font Awesome 圖標）。